<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">

<head>

    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link rel="stylesheet" type="text/css" href="style.css">

    <title>Sample Sabre&reg; Web Services client application documentation</title>
</head>

<body>

    <!-- Index of content
    <a name="#index-of-content-anchor"></a>
    <span class="header"></span>
    <div class="intend-level-1">

    </div>
    -->


<!--
    <a name="toolkit--anchor"></a>
    <span class="subheader" style="font-family: 'Courier New'">toolkit-</span><br /><br />
    <div class="intend-level-1">

        <a name="-pom-anchor"></a>
        <span class="bold">POM file and build lifecycle</span>
        <p>

        </p>

        <a name="-client-anchor"></a>
        <span class="bold"><span class="code">SwsClient</span> class</span>
        <p>

        </p>

        <a name="-wrappers-anchor"></a>
        <span class="bold">Wrapper classes</span>
        <p>

        </p>

        <a name="-handlers-interceptors-anchor"></a>
        <span class="bold">Handlers Interceptors ???</span>
        <p>

        </p>

    </div>

-->

    <!-- Index of content-->
    <a name="index-of-content-anchor"></a>
    <span class="header">Index of content</span>
    <div class="intend-level-1">

        <ul>
            <li>
                <a href="#index-of-content-anchor">Index of content</a>
            </li>
            <li>
                <a href="#overview-anchor">Overview</a>
                <ul>
                    <li><a href="#technologies-versioning-anchor">Technologies used & versioning</a></li>
                    <li><a href="#data-bindings-anchor">Data binding technologies</a></li>
                    <li><a href="#ws-frameworks-anchor">Web services frameworks</a></li>
                    <li><a href="#sws-consumed-anchor">Sabre&reg; Web Services consumed</a></li>
                    <li><a href="#structure-anchor">Structure</a></li>
                </ul>
            </li>
            <li>
                <a href="#template-and-ideas-anchor">Module template and common ideas</a>
                <ul>
                    <li><a href="#swsclient-class-anchor"><span class="code">SwsClient</span> class</a></li>
                    <li><a href="#wrappers-anchor">Wrapper classes</a></li>
                    <li><a href="#handlers-interceptors-anchor">Handlers/interceptors</a></li>
                    <li><a href="#lifecycle-anchor">POM build lifecycle</a></li>
                </ul>
            </li>
            <li><a href="#building-flow-anchor">Project building flow</a> </li>
            <li><a href="#client-execution-anchor">Client application execution</a> </li>
            <li>
                <a href="#modules-description">Modules description</a>
                <ul>
                    <li>
                        <a href="#toolkit-commons-anchor">toolkit-commons</a>
                        <ul>
                            <li><a href="#commons-pom-anchor">POM file and build lifecycle</a></li>
                            <li><a href="#commons-handlers-interceptors-anchor">Handlers</a></li>
                            <li><a href="#utility-content-anchor">Utility classes</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#toolkit-axis2-adb-anchor">toolkit-axis2-adb</a>
                        <ul>
                            <li><a href="#axis2-adb-pom-anchor">POM file and build lifecycle</a></li>
                            <li><a href="#axis2-adb-client-anchor"><span class="code">SwsClient</span> class</a></li>
                            <li><a href="#axis2-adb-wrappers-anchor">Wrapper classes</a></li>
                            <li><a href="#axis2-adb-handlers-interceptors-anchor">Handlers</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#toolkit-axis2-xmlbeans-anchor">toolkit-axis2-xmlbeans</a>
                        <ul>
                            <li><a href="#axis2-xmlbeans-client-anchor">POM file and build lifecycle</a></li>
                            <li><a href="#axis2-xmlbeans-client-anchor"><span class="code">SwsClient</span> class</a></li>
                            <li><a href="#axis2-xmlbeans-wrappers-anchor">Wrapper classes</a></li>
                            <li><a href="#axis2-xmlbeans-handlers-interceptors-anchor">Handlers</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#toolkit-cxf-jaxb-anchor">toolkit-cxf-jaxb</a>
                        <ul>
                            <li><a href="#cxf-jaxb-pom-anchor">POM file and build lifecycle</a></li>
                            <li><a href="#cxf-jaxb-client-anchor"><span class="code">SwsClient</span> class</a></li>
                            <li><a href="#cxf-jaxb-wrappers-anchor">Wrapper classes</a></li>
                            <li><a href="#cxf-jaxb-handlers-interceptors-anchor">Handlers</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#toolkit-springws-anchor">toolkit-spring-ws</a>
                        <ul>
                            <li><a href="#springws-pom-anchor">POM file and build lifecycle</a></li>
                            <li><a href="#springws-client-anchor"><span class="code">SwsClient</span> class</a></li>
                            <li><a href="#springws-client-anchor">Wrapper classes</a></li>
                            <li><a href="#springws-handlers-interceptors-anchor">Handlers</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#toolkit-wsimport-anchor">toolkit-wsimport</a>
                        <ul>
                            <li><a href="#wsimport-pom-anchor">POM file and build lifecycle</a></li>
                            <li><a href="#wsimport-client-anchor"><span class="code">SwsClient</span> class</a></li>
                            <li><a href="#wsimport-wrappers-anchor">Wrapper classes</a></li>
                            <li><a href="#wsimport-handlers-interceptors-anchor">Handlers</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>

    </div> <br />

    <!-- Overview -->
    <a name="overview-anchor"></a>
    <span class="header">Overview</span>
    <div class="intend-level-1">
        <p>
            This document describes sample Sabre&reg; Web Services client application, provided by Sabre&reg; Web Services
            development team. It is a multi-module Java application that uses Maven for dependency and plugin
            management. Each module represents a single client application using one framework for working
            with web services and one data binding technology. Each of frameworks used is described in the
            <a href="index.html">overview</a>, that is distributed with this document. This document focuses
            solely on the application code and design. However, general description and client development guide
            for each framework is contained in the mentioned overview.
        </p>

        <a name="technologies-versioning-anchor"></a>
        <span class="bold">Technologies used & versioning</span>
        <p>
            Sample project was compiled and tested with Java 7 (update 60) and Apache Maven 3.2.2. It uses the
            following technologies:
        </p>

        <a name="data-bindings-anchor"></a>
        <span class="bold">Data binding technologies:</span>
        <ul>
            <li>Apache ADB (distributed with Axis2 1.6.2)</li>
            <li>Apache XMLBeans (distributed with Axis2 1.6.2)</li>
            <li>JAXB (2.2 version)</li>
        </ul>

        <a name="ws-frameworks-anchor"></a>
        <span class="bold">Web services frameworks:</span>
        <ul>
            <li>Apache Axis2 (1.6.2 version)</li>
            <li>Apache CXF (3.0.1 version)</li>
            <li>Sping Web Services (2.2.0 RELEASE version)</li>
            <li>wsimport (distributed with jaxws-maven-plugin 2.3 version)</li>
        </ul>

        <a name="sws-consumed-anchor"></a>
        <span class="bold">Sabre&reg; Web Services consumed</span>
        <p>
            The following set of Sabre&reg; Web Services is consumed by the client application, whenever it is possible
            (to see why it is not always  possible, see <a href="index.html#xmlbeans-known-issues-anchor">
            frameworks overview</a>):
        </p>
        <ul>
            <li>
                Session management
                <ul>
                    <li>SessionCreateRQ</li>
                    <li>SessionCloseRQ</li>
                </ul>
            </li>
            <li>
                Low-level services
                <ul>
                    <li>TravelItineraryReadLLSRQ (2.0.0 version)</li>
                    <li>OTA_AirAvailLLSRQ (2.1.1 version)</li>
                </ul>
            </li>
            <li>
                Orchestrated Services
                <ul>
                    <li>PassengerDetailsRQ (2.2.1 version)</li>
                    <li>EnhancedAirBookRQ (2.5.0 version)</li>
                </ul>
            </li>
        </ul>

        <p>
            In each module, an identical set of requests is being processed (when it is possible).
        </p>

        <a name="structure-anchor"></a>
        <span class="bold">Structure</span>

        <p>
            The project has the following structure (simplified):
        </p>

        <p class="snippet">
            ├───.idea<br />
            ├───documenation<br />
            ├───resources<br />
            ├───target<br />
            │   ├───antrun<br />
            │   ├───common_schemas<br />
            │   └───wsdls<br />
            │     &nbsp;  ├───AirSeatLLSRQ<br />
            │     &nbsp;  ├───EnhancedAirBookRQ<br />
            │     &nbsp;  ├───OTA_AirAvailLLSRQ<br />
            │     &nbsp;  ├───PassengerDetailsRQ<br />
            │     &nbsp;  ├───SessionCloseRQ<br />
            │     &nbsp;  ├───SessionCreateRQ<br />
            │     &nbsp;  └───TravelItineraryReadLLSRQ<br />
            ├───toolkit-axis2-adb<br />
            ├───toolkit-axis2-xmlbeans<br />
            ├───toolkit-commons<br />
            ├───toolkit-cxf-jaxb<br />
            ├───toolkit-spring-ws<br />
            └───toolkit-wsimport<br />
        </p>

        <p>
            Starting from the bottom, there are module directories for each frameworks combination.
            Each module is described in details in a separate section. The common characteristics and shared design
            ideas are described in next section. <br /><br />

            The <span class="code">commons</span> module contains utilities and tools used throughout the
            application and not specific for a particular module. <br /> <br />

            Each client module (every except of parent module and <span class="code">toolkit-commons</span> module)
            depends on parent module (which provides shared resources, like services definitions and authorization data)
            and on <span class="code">toolkit-commons</span> module, which is responsible for session management
            and provides utilities for other modules.
            <br /><br />

            The parent module is responsible for managing resources that are common for all child modules:
        </p>

        <ul>
            <li><span class="code">.properties</span> files, which include
            <span class="code">connection.properties</span> and <span class="code">service-versions.properties</span>
                The former holds information about client's identity (credentials required to open a session) and the
                latter - versions of services, that are used. These files reside in <span class="code"> resources/</span>
                directory
            </li>
            <li>
                Common schemas - <span class="code">.xsd</span> files that describe XML data types used in SOAP-based
                communication. They are placed under <span class="code">target/common_schemas/</span> directory.
            </li>
            <li>WSDL files (services definitions) and service-specific schemas for each Sabre&reg; Web Service used.
            A proper set of files for each service is placed in <span class="code">/target/wsdls/&lt;serviceName&gt;</span> </li>
        </ul>

        <p>
            To get the outline of how those resources are used in a project's lifecycle, check the !!!builidng flow
            section.
        </p>

    </div>

    <!-- Template and common ideas -->
    <a name="template-and-ideas-anchor"></a>
    <span class="header">Module template and common ideas</span>
    <div class="intend-level-1">
        <p>
            Every client module utilizes the same design concept, which consists of four main parts:
        </p>
        <ul>
            <li><span class="code">SwsClient</span> class</li>
            <li>Wrapper classes</li>
            <li>Handlers/interceptors</li>
            <li>POM build lifecycle</li>
        </ul>

        <!-- SwsClient Class-->
        <a name="swsclient-class-anchor"></a>
        <span class="bold">SwsClient class</span>
        <p>
            <span class="code">SwsClient</span> class is the entry point of each module (each client application).
            So, there are 5 such classes:
        </p>

        <ul>
            <li><span class="code">com.sabre.sws.tools.wsdl.axis2.adb.client.SwsClient</span></li>
            <li><span class="code">com.sabre.sws.tools.wsdl.axis2.xmlbeans.client.SwsClient</span></li>
            <li><span class="code">com.sabre.sws.tools.wsdl.cxf.jaxb.client.SwsClient</span></li>
            <li><span class="code">com.sabre.sws.tools.wsdl.springws.client.SwsClient</span></li>
            <li><span class="code">com.sabre.sws.tools.wsdl.wsimport.client.SwsClient</span></li>
        </ul>
        <p>
            Each <span class="code">SwsClient</span> class contains a <span class="code">main()</span> method, that
            triggers the application setup, session creation, services calls and session termination. In other words,
            this method's invokation traverses through the whole lifecycle of a module. <br />
            Each module has it's own <span class="code">client</span> package, in which client class reside. <br /><br />

            Each main method starts with the invokation of <span class="code">addCloseSessionOnExitShutdownHook()</span>
            method, which add shutdown hook that checks if the session is open, and if so, closes it. This may
            not seem necessary, as only a single session is used, but it is generally a good practice to close sessions
            properly and don't lave open sessions to timeout.
        </p>

        <!-- Wrappers -->
        <a name="wrappers-anchor"></a>
        <span class="bold">Wrapper classes</span>
        <p>
            Wrapper class is a top-level abstraction over a web service call in each technology set. It has convenience
            public methods, that allow direct invocation of a web service call. Those methods are:
        </p>

        <ul>
            <li><span class="code">openSession()</span> / <span class="code">closeSession()</span> in session services wrappers</li>
            <li><span class="code">executeSampleRequest(AirAvailRequests requestType)</span> in OTA_AirAvailLLSRQ service wrappers </li>
            <li><span class="code">executeSampleRequest()</span> in other services</li>
        </ul>

        <p>
            Wrapper classes encapsulate the whole web service call logic in a particular framework, usually extending some
            stub (helper) class or using delegation on an object of some framework-specific class.
            They also usually take care of all the necessary initialization - endpoint setting, handlers/interceptors chain
            management, headers creation and any other action, that is required to develop a Sabre&reg; Web Services
            client application.
        </p>

        <!-- Handlers / interceptors-->
        <a name="handlers-interceptors-anchor"></a>
        <span class="bold">Handlers / interceptors</span>
        <p>
            Handlers and interceptors mechanisms are quite similar. They are usually placed in a chain of some kind
            and/or divided into phases. In each phase an appropriate set of handlers or interceptors is run.
            They usually implement an interface with one or more public methods, that take message context as an argument,
            and is called during handler invokation. Message context provides access to request and response messages,
            but also additional information associated with message exchange. <br />
            Because handlers are called in many distinct phases of message processing, e.g. after the message is created,
            but before it is sent, they are a good mean of
            message manipulating and modification. For example, they can be used to place custom header elements
            into a message (when sending a request) or reading those headers from the response message. <br />
            Handlers and interceptors are managed by wrapper classes that make sure the web service call is
            accompanied by a proper set of handlers or interceptors.
        </p>

        <!-- POM build lifecycle -->
        <a name="lifecycle-anchor"></a>
        <span class="bold">POM build lifecycle</span>
        <p>
            Each module follows similar lifecycle pattern, which is dependant on the one of module's parent, so it will
            be described first. <br /><br />

            <span>Parent module</span><br /><br />

            Parent module creates <span class="code">target</span> folder in project's root directory, with the
            following structure:
        </p>

        <a name="parent-module-structure-anchor"></a>
        <p class="snippet">
            ├───target <br />
            │&nbsp;├───antrun<br />
            │&nbsp;├───common_schemas<br />
            │&nbsp;└───wsdls<br />
            │    &nbsp;&nbsp;├───AirSeatLLSRQ<br />
            │    &nbsp;&nbsp;├───EnhancedAirBookRQ<br />
            │    &nbsp;&nbsp;├───OTA_AirAvailLLSRQ<br />
            │    &nbsp;&nbsp;├───PassengerDetailsRQ<br />
            │    &nbsp;&nbsp;├───SessionCloseRQ<br />
            │    &nbsp;&nbsp;├───SessionCreateRQ<br />
            │    &nbsp;&nbsp;└───TravelItineraryReadLLSRQ<br />
        </p>

        <p>
            In the first step, using ANT task and Maven antrun plugin, parent module downloads common schemas from
            Sabre&reg; servers and places them under <span class="code">common_schemas/</span> directory. Subsequently,
            these files are distributed into each services' directory, so that each location contains a complete
            set of files required for generating Java code from them. <br />
            In the next step the service-specific schemas and WSDL files are downloaded and placed in appropriate
            directories (<span class="code">target/wsdls/&lt;service-name&gt;</span>) . As stated in
            <a href="#structure-anchor">structure section</a>, there is a
            <span class="code">service-versions.properties</span> file in <span class="code">resources/</span>
            directory. That file contains service versions, that are used to download WSDLs and schemas, so that
            during each execution desired versions of services definitions are downloaded. This file is read by
            a <span class="code">properties-maven-plugin</span> that creates maven properties based on it's contents.
            These properties are then used to download the right files. <br /><br />
        </p>

        <span>Child modules</span><br /><br />

        <p>
            Child (client) modules follow the
            <a href="http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html">
            Maven standard directory layout</a> (with some modifications), which is presented (in simplified form) below:
        </p>

        <p class="snippet">
            ────toolkit-&lt;framework-name&gt; <br />
            &nbsp;&nbsp;├───configuration<br />
            &nbsp;&nbsp;├───custom-bindings<br />
            &nbsp;&nbsp;├───src<br />
            &nbsp;&nbsp;│&nbsp;├───main<br />
            &nbsp;&nbsp;│&nbsp;│&nbsp;└───java<br />
            &nbsp;&nbsp;│      │<br />
            &nbsp;&nbsp;│&nbsp;└───test<br />
            &nbsp;&nbsp;│&nbsp;&nbsp;&nbsp;└───java<br />
            &nbsp;&nbsp;└───target<br />
            &nbsp;&nbsp;&nbsp;&nbsp;├───classes<br />
            &nbsp;&nbsp;&nbsp;&nbsp;└───generated-sources<br />

        </p>

        <p>
            The <span class="code">configuration</span> directory contains <span class="code">log4j2.xml</span> file.
            This is a configuration file for Log4j that allows to change logging settings in a module.
            More information about Log4j configuration is available in
            <a href="http://logging.apache.org/log4j/2.x/manual/configuration.html">Log4j manual</a>. <br />

            The <span class="code">custom-bindings</span> folder holds custom JAXB binding files (if applicable). It is
            present in modules that use JAXB data binding. These files contain hardcoded location of WSDL files,
            so it is important to update them whenever this location changes (eg. when new service's version
            is used).<br /><br />

            Sources for client application reside in <span class="code">src</span> directory. <br /><br />

            The <span class="code bold">&lt;module-name&gt;/target/generated-sources</span> directory is an important one.
            During each module's lifecycle defined in POM, Maven runs code generation plugin that reads schemas and WSDL
            files provided by parent module. That plugin compiles schemas into Java sources and generates service clients,
            that are placed in <span class="code">&lt;module-name&gt;/target/generated-sources</span> (and the proper subdirectories structure, according to
            the sources packaging structure). After that, generated sources are part of the project and related classes
            are available to use in the client application. Usually, each framework creates
            <span class="code">&lt;module-name&gt;/target/generated-sources/&lt;data-binding-name&gt;</span> subdirectory, but this may
            vary (situation for each module is described in the right section). <br /><br />

            Each module's POM contains some common elements:
        </p>

        <ul>
            <li>
                The execution of <span class="code">properties-maven-plugin</span>, that reads properties from file
                held in a parent module
            </li>
            <li>
                The <span class="code">maven-antrun-plugin</span> element, that overrides it's execution from parent module
            </li>
        </ul>

    </div>

    <a name="building-flow-anchor"></a>
    <span class="subheader">Project building flow</span><br/>
    <div class="intend-level-1">
        <p>
            Executing <span class="code">mvn clean compile</span> on project's root module (<span class="code">wsdl-toolkit</span>)
            will cause the following:
        </p>

        <ol>
            <li>
                Root module (<span class="code">wsdl-toolkit</span>) setup
                <ol>
                    <li>Reading services version from <span class="code">resources/service-version.properties</span> </li>
                    <li><a href="#parent-module-structure-anchor">Directory structure</a> creation</li>
                    <li>Downloading common schemas to <span class="code">target/common_schemas/</span> </li>
                    <li>Downloading service-specific schemas and WSDLs to proper directories</li>
                </ol>
            </li>
            <li>
                <span class="code">tookit-commons</span> module build
                <ol>
                    <li>Copying <span class="code">.properties</span> files to
                    <span class="code">toolkit-commons/target/classes</span> (so that they are  available for objects)</li>
                    <li>Compiling sources</li>
                </ol>
            </li>
            <li>
                Child (client) modules build
                <ol>
                    <li>Reading services versions from <span class="code">../resources/service-versions.properties</span> </li>
                    <li>Generating Java code from schemas and WSDL files</li>
                    <li>Compiling sources</li>
                </ol>
            </li>
        </ol>
    </div>

    <a name="client-execution-anchor"></a>
    <span class="subheader">Client application execution</span>
    <div class="intend-level-1">
        <p>
            To build and run client from command line one must execute Maven <span class="code">compile</span> goal
            on the root module. This will setup the directories, download all necessary files, build common
            utilities classes, generate sources and compile clients. To achieve this, run: <br /><br />

            <span class="code">mvn clean install</span> <br /><br />

            from project's root directory. <br /><br />
            As mentioned earlier, the entry point of each client application is <span class="code">SwsClient</span>'s
            <span class="code">main()</span> method. Having the whole project compiled, to run a particular client,
            execute (from project root directory): <br /><br />

            <span class="code">mvn exec:java -pl &lt;module-name&gt; -Dexec.mainClass=&lt;SwsClient package&gt;</span> <br/><br />

            For example, to execute a client that uses Axis2 and XMLBeans, execute the following from project root directory: <br /><br />

            <span class="code">mvn clean install</span><br />
            <span class="code">mvn exec:java -pl toolkit-axis2-xmlbeans -Dexec.mainClass=com.sabre.sws.tools.wsdl.axis2.xmlbeans.client.SwsClient</span><br /><br />

            After the whole project is built for the first time, it does not need to be recompiled again, until configuration
            changes occur.
        </p>
    </div><br />

    <a name="modules-description"></a>
    <span class="header">Modules description</span><br /><br />

    <!-- T O O L K I T   C O M M O N S -->

    <a name="toolkit-commons-anchor"></a>
    <span class="subheader" style="font-family: 'Courier New'">toolkit-commons</span><br /><br />
    <div class="intend-level-1">

        <a name="commons-pom-anchor"></a>
        <span class="bold">POM file and build lifecycle</span>
        <p>
            There are no special POM elements for this module, in exception of already mentioned resources copying.
        </p>

        <a name="commons-handlers-interceptors-anchor"></a>
        <span class="bold">Handlers</span>
        <p>
            <span class="code">toolkit-commons</span> module contains set of Apache Axis2 handlers. As there are
            two modules that use this framework it is reasonable to reuse this code. They reside in <span class="code">handlers</span>
            subpackage under <span class="code">com.sabre.sws.tools.wsdl.commons</span> package. <br />
            There are three handler types: <br />
        </p>
        <ul>
            <li>
                <span class="code">ErrorHandler</span> - checks whether there is <span class="code">fault</span> element
                in the message and logs faults, if any
            </li>
            <li>
                <span class="code">MustUnderstandHandler</span> - reads message's elements that are marked with
                <span class="code">mustUnderstand="1"</span> attribute value. Performs error check and reads header data,
                including session token. Takes care of session management.
            </li>
            <li><span class="code">OutputHandler</span> - Logs SOAP elements using Log4j API </li>
        </ul>

        <a name="utility-content-anchor"></a>
        <span class="bold">Utility classes</span>
        <ul>
            <li>
                <span class="code">enum AirAvailRequests</span> - used to specify type of OTA_AirAvailLLSRQ service call
            </li>
            <li>
                <span class="code">interface IConfigurationProvider</span> - interface that provides Sabre&reg; client
                authentication data for services
            </li>
            <li>
                <span class="code">interface IEditableConfiguration extends IConfigurationProvider</span> - extends
                the former interface with settings capabilities
            </li>
            <li>
                <span class="code">PropertiesFileConfigurationSource</span> implementation of <span class="code">
                IConfigurationProvider</span> that reads authentication information from the input stream associated with
                <span class="code">.properties</span> file
            </li>
            <li>
                <span class="code">MessageHandlerManager</span> - Axis2-related modules convinience class, that takes
                care of handler chain management</li>
            <li>
                <span class="code">ServiceVersionsProvider</span> - class with static getter methods, that provides
                currently used services' versions. Their values are obtained from a <span class="code">.properties</span> file
            </li>
            <li>
                <span class="code">SessionManager</span> - singleton class that holds information about currently
                opened session (the session is set during SessionCreateRQ service call and closed by a SessionCloseRQ
                service call). When the session is active, <span class="code">SessionManager</span>'s instance provides
                session token.
            </li>
            <li>
                <span class="code">Util</span> - provides miscellaneous utility functions, mainly for the message header
                composing methods, but also shares an <span class="code">IConfigurationProvider</span> implementation
            </li>
            <li>
                <span class="code">XMLPrettifier</span> - contains a single static, public method, that takes a string
                as an argument. This string is supposed to contain an XML content. The method returns
                formatted XML as a string.
            </li>
        </ul>
    </div>

    <!-- T O O L K I T    A X I S 2    A D B  -->

    <a name="toolkit-axis2-adb-anchor"></a>
    <span class="subheader" style="font-family: 'Courier New'">toolkit-axis2-adb</span><br /><br />
    <div class="intend-level-1">

        <a name="axis2-adb-pom-anchor"></a>
        <span class="bold">POM file and build lifecycle</span>
        <p>
            There are two main customizations in this module's POM file:
            <span class=" code">properties-maven-plugin</span> and <span class="code">axis2-wsdl2code-maven-plugin</span>.
            The former reads services versions properties from <span class="code">.properties</span> file in parent module,
            the latter is responsible for generating Axis2 artifacts based on a WSDL files and XSD schemas.

            This plugin generates service stubs, that encapsulate web service call logic and contain inner classes,
            that represent data types used. Sources are generated to
            <span class="code">toolkit-axis2-adb/target/generated-sources/stubs/src</span> directory, which is added
            to classpath and contains the subdirectories structure corresponding with output package parameter.
            This plugin section contains one <span class="code">&lt;execution&gt;</span> element per one WSDL file.
            They have the same structure: <br/>
        </p>

        <p class="snippet">
            &lt;execution&gt;<br />
            &nbsp;&nbsp;&lt;id&gt;id-service_name&lt;/id&gt;<br />
            &nbsp;&nbsp;&lt;goals&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;goal&gt;wsdl2code&lt;/goal&gt;<br />
            &nbsp;&nbsp;&lt;/goals&gt;<br />
            &nbsp;&nbsp;&lt;phase&gt;generate-sources&lt;/phase&gt;<br />
            &nbsp;&nbsp;&lt;configuration&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;packageName&gt;com.sabre.sws.tools.wsdl.stubs.adb&lt;/packageName&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;wsdlFile&gt;${project.parent.basedir}/target/wsdls/ServiceNameRQ/ServiceName${service_version}.wsdl&lt;/wsdlFile&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;databindingName&gt;adb&lt;/databindingName&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;outputDirectory&gt;target/generated-sources/stubs&lt;/outputDirectory&gt;<br />
            &nbsp;&nbsp;&lt;/configuration&gt;<br />
            &lt;/execution&gt;<br />
        </p>

        <p>
            To achieve the same using command line, firstly make sure, that Apache Axis2 is in the system and both
            <span class="code">JAVA_HOME</span> and <span class="code">AXIS2_HOME</span> system variables are set and
            <span class="code"> AXIS2_HOME/bin</span> is in the <span class="code">PATH</span>. Then run from command line: <br /><br />

            <span class="code">wsdl2java -uri {project_root_directory}/target/wsdls/ServiceNameRQ/ServiceName{service_version}.wsdl -p com.sabre.sws.tools.wsdl.stubs.adb -d adb
                -o {project_root_directory}/toolkit-axis2-adb/target/generated-sources/stubs</span> <br /><br />

            Axis2 installation is described in <a href="http://axis.apache.org/axis2/java/core/docs/installationguide.html#standalone1">
            it's documentation</a>
        </p>

        <a name="axis2-adb-client-anchor"></a>
        <span class="bold"><span class="code">SwsClient</span> class</span>
        <p>
            The construction of <span class="code">SwsClient</span>'s <span class="code">main()</span> method is
            pretty straightforward: it adds a set of handlers to <span class="code">HandlerManager</span> (every
            created stub will use these handlers), opens session, calls tested services and closes the session, and
            if <span class="code">RemoteException</span> is thrown, it is catched and logged. Output from services
            is processed and logged to the command line (depending on the set level of logging). <br /><br />

            To execute it from command line, run (from the project root directory, after building the whole project
            with <span class="code">mvn clean install</span>): <br /><br />

            <span class="code">mvn exec:java -pl toolkit-axis2-adb -Dexec.mainClass=com.sabre.sws.tools.wsdl.axis2.adb.client.SwsClient</span><br /><br />

            Note, that only two OTA_AirAvailRequests are invoked. This is due to the bug in the ADB data binding
            (described in <a href="index.html#adb-known-issues-anchor">frameworks overview</a>) that causes
            optional attributes to be always present in marshaled objects. In OTA_AirAvailLLSRQ service, some of
            those attributes are mutually exclusive, causing error when executing requests containing them.
        </p>

        <a name="axis2-adb-wrappers-anchor"></a>
        <span class="bold">Wrapper classes</span>
        <p>
            Wrapper classes extend stub classes generated by Axis2 code generation tool, and those classes extend
            <span class="code">org.apache.axis2.client.Stub</span> abstract class. Stub classes encapsulate all elements
            that allow to make web service call - including data types, structures and web methods.
            Wrapper classes extend stub classes to hide this mechanism and provide a public method <span class="code">
            executeSampleRequest()</span> to directly execute a web service call. Wrappers' constructors are in charge
            of proper enpoint URL setting (based on provided implementation of <span class="code">IConfigurationProvider</span>)
            and handler chain management (each wrapper's constructor passes a <span class="code">this</span> reference
            to handler manager).
        </p>

        <a name="axis2-adb-handlers-interceptors-anchor"></a>
        <span class="bold">Handlers</span>
        <p>
            This module uses <a href="#commons-handlers-interceptors-anchor">already desscribed</a> handlers and handler
            manager from <span class="code">toolkit-commons</span> package.
        </p>

    </div>

    <!-- T O O L K I T    A X I S 2     X M L B E A N S -->

    <a name="toolkit-axis2-xmlbeans-anchor"></a>
    <span class="subheader" style="font-family: 'Courier New'">toolkit-axis2-xmlbeans</span><br /><br />
    <div class="intend-level-1">

        <a name="axis2-xmlbeans-pom-anchor"></a>
        <span class="bold">POM file and build lifecycle</span>
        <p>
            One important element in this module's POM is the execution of Maven antrun plugin, that copies
            <span class="code">toolkit-axis2-xmlbeans/target/generated-sources/stubs/schemaorg_apache_xmlbeans/system</span> directory
            to <span class="code">toolkit-axis2-xmlbeans/target/classes/schemaorg_apache_xmlbeans/system</span>.
            Due to a bug in <span class="code">axis2-wsdl2code-maven-plugin</span>, this directory in source locations
            contains compiled <span class="code">.class</span> files, that need to be moved to <span class="code">classes</span>
            directory. ANT script for this operation can be found in <span class="code">toolkit-axis2-xmlbeans/ant-copy-typesystemholder-class.xml</span>
            <br /><br />

            There is also an <span class="code">axis2-wsdl2code-maven-plugin</span> entry, which is the same as the one in
            <span class="code">toolkit-axis2-adb</span> module, with the only difference being data binding type.
            So, this module's <span class="code">&lt;databindingName&gt;</span> parameter looks like this: <br />
            <span class="code">&lt;databindingName&gt;xmlbeans&lt;/databindingName&gt;</span>, and command line
            input: <br /> <br />

            <span class="code">wsdl2java -uri {project_root_directory}/target/wsdls/ServiceNameRQ/ServiceName{service_version}.wsdl -p com.sabre.sws.tools.wsdl.stubs.xmlbeans -d xmlbeans
                -o {project_root_directory}/toolkit-axis2-xmlbeans/target/generated-sources/stubs</span> <br /><br />

            However, there are only 3 of 6 services used in this module, due to an XMLBeans issue described in
            <a href="index.html#xmlbeans-known-issues-anchor">technologies overview document</a> distributed with
            this project.

            As in previous module, there is also an execution of properties plugin, that reads properties from file
            located in the parent module.

        </p>

        <a name="axis2-xmlbeans-client-anchor"></a>
        <span class="bold"><span class="code">SwsClient</span> class</span>
        <p>
            The <span class="code">main()</span> method follows the same pattern as one in <span class="code">toolkit-axis2-adb</span>
            module. There is an invokation of handler-managing method, session is opened, service is called, session is closed,
            and any exception thrown is caught and logged. <br /><br />

            To execute it from command line, run (from the project root directory, after building the whole project
            with <span class="code">mvn clean install</span>): <br /><br />

            <span class="code">mvn exec:java -pl toolkit-axis2-xmlbeans -Dexec.mainClass=com.sabre.sws.tools.wsdl.axis2.xmlbeans.client.SwsClient</span><br /><br />

        </p>

        <a name="axis2-xmlbeans-wrappers-anchor"></a>
        <span class="bold">Wrapper classes</span>
        <p>
            Because this module, as <span class="code">toolkit-axis2-adb</span>, uses Axis2 framework, the construction
            of wrapper classes is almost identical. They extend stub classes, take care of communication with handler
            manager and have a public <span class="code">executeSampleRequest()</span> method. The only difference is
            that in described module request objects are constructed by static factories, that reside in
            <span class="code">com.sabre.sws.tools.wsdl.axis2.xmlbeans.utils</span> package and use XMLBeans API
            to build them.
        </p>

        <a name="axis2-xmlbeans-handlers-interceptors-anchor"></a>
        <span class="bold">Handlers</span>
        <p>
            This module uses <a href="#commons-handlers-interceptors-anchor">already desscribed</a> handlers and handler
            manager from <span class="code">toolkit-commons</span> package.
        </p>
    </div>

    <!-- T O O L K I T    C X F   J A X B  -->

    <a name="toolkit-cxf-jaxb-anchor"></a>
    <span class="subheader" style="font-family: 'Courier New'">toolkit-cxf-jaxb</span><br /><br />
    <div class="intend-level-1">

        <a name="cxf-jaxb-pom-anchor"></a>
        <span class="bold">POM file and build lifecycle</span>
        <p>
            The only non-standard (framework-specific) thing in POM is CXF code generation plugin. It has one execution
            that consists of sections foreach service and one global section that contains common options for each
            section. These common options are:

            <table class="mvn-cmdln-table">
                <tr>
                    <th>Maven option</th>
                    <th>Command line equivalent</th>
                    <th>Purpose</th>
                </tr>
                <tr>
                    <td><span class="code">&lt;extraarg&gt;-db&lt;/extraarg&gt;<br />&lt;extraarg&gt;jaxb&lt;/extraarg&gt;</span></td>
                    <td><span class="code">-db jaxb</span></td>
                    <td>Use JAXB data binding</td>
                </tr>
               <tr>
                    <td><span class="code">&lt;extraarg&gt;-autoNameResouletion&lt;/extraarg&gt;</span></td>
                    <td><span class="code">-autoNameResouletion</span></td>
                    <td>Automatically resolve naming conflicts</td>
                </tr>
               <tr>
                    <td><span class="code">&lt;extraarg&gt;-dns&lt;/extraarg&gt;<br />&lt;extraarg&gt;true&lt;/extraarg&gt;</span></td>
                    <td><span class="code">-dns true</span></td>
                    <td>Enable default package-namespace mapping</td>
                </tr>
                <tr>
                    <td><span class="code">&lt;extraarg&gt;-client&lt;/extraarg&gt;</span></td>
                    <td><span class="code">-client</span> </td>
                    <td>Generates starting point code for a client mainline</td>
                </tr>
            </table> <br />

            Some of these sections use custom binding files to compile schemas to Java classes. To have artifacts for 
            one service generated, insert the following template into <span class="code">&lt;wsdlOptions&gt;</span> 
            element in plugin's configuration in POM: <br /><br />

            <span class="code">
                &lt;wsdlOption&gt;<br />
                &nbsp;&nbsp;&lt;wsdl&gt;${project.parent.basedir}/target/wsdls/ServiceNameRQ/ServiceName{service_version}RQ.wsdl&lt;/wsdl&gt;<br />
                &nbsp;&nbsp;&lt;extraargs&gt;<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&lt;extraarg&gt;-b&lt;/extraarg&gt;<br />
                &nbsp;&nbsp;&nbsp;&nbsp;&lt;extraarg&gt;${project.basedir}/custom-bindings/custom-binding-file-name.jxb&lt;/extraarg&gt;<br />
                &nbsp;&nbsp;&lt;/extraargs&gt;<br />
                &lt;/wsdlOption&gt;<br />
            </span> <br /><br />

        To get the same result using command line, download CXF's binaries from <a href="http://cxf.apache.org/download.html">CXF's download site</a>,
        go to <span class="code">bin/</span> under CXF's installation directory (or place it in <span class="code">PATH</span>
        and and set <span class="code">CXF_HOME</span> system variable), then execute: <br/> <br />

        <span class="code">wsdl2java -db jaxb -autoNameResoultion -dns true -client -b path/to/binding/file.jxb -d {project_root_directory}/toolkit-cxf-jaxb/target/generated-sources</span>
        </p>

        <a name="cxf-jaxb-client-anchor"></a>
        <span class="bold"><span class="code">SwsClient</span> class</span>
        <p>
            This class uses the standard template for client classes, <a href="<!--TODO-->"> as described earlier</a>. <br /><br />

            To execute it from command line, run (from the project root directory, after building the whole project
            with <span class="code">mvn clean install</span>): <br /><br />

            <span class="code">mvn exec:java -pl toolkit-cxf-jaxb -Dexec.mainClass=com.sabre.sws.tools.wsdl.cxf.jaxb.client.SwsClient</span><br /><br />

        </p>

        <a name="cxf-jaxb-wrappers-anchor"></a>
        <span class="bold">Wrapper classes</span>
        <p>
            Wrapper classes do not extend any class. Instead, they internally create JAX-WS artifacts (services
            and service enpoint implementations), configure them (through setting interceptors chain and enpoint Url)
            and use to make web service call. To the outside, they publish a traditional <span class="code">executeSampleRequest()</span>
            method. Message headers objects are provided by static factory methods of classes from
            <span class="code">com.sabre.sws.tools.wsdl.cxf.jaxb.utils</span> package.
        </p>

        <a name="cxf-jaxb-handlers-interceptors-anchor"></a>
        <span class="bold">Interceptors</span>
        <p>
            Interceptors in this module extend <span class="code">org.apache.cxf.binding.soap.interceptor.AbstractSoapInterceptor</span>
            class, that is standard CXF's base class to use as SOAP messages interceptor. Via it's
            <span class="code">handleMessage(SOAPMessage message)</span> method it gives access to complete SOAP message,
            with complete SOAP envelope and all headers. If any data from those members is required, <span class="code">
            handleMessage</span> method is a good place to obtain them. <br />
            Interceptors are organized in phases, that are executed in a sequence. It is important to add interceptor
            to a correct phase, so that all expected information is present during processing. More information on
            phases and interceptors in CXF is available in <a href="http://cxf.apache.org/docs/interceptors.html">CXF's documentation</a>.
        </p>

    </div>

    <!-- T O O L K I T    S P R I N G    W S -->

    <a name="toolkit-springws-anchor"></a>
    <span class="subheader" style="font-family: 'Courier New'">toolkit-spring-ws</span><br /><br />
    <div class="intend-level-1">

        <a name="springws-pom-anchor"></a>
        <span class="bold">POM file and build lifecycle</span>
        <p>
            Besides standard elements, POM for this module contains the <span class="code">maven-jaxb2-plugin</span>,
            that generates JAX-WS artifacts from XSD schemas. The set of classes generated is rather minimalistic,
            as Spring Web Services requires only the definitions of requests, responses and headers.
            Files for each service are gathered in a separate execution, to avoid naming conflicts (every
            response and request definition contains common schemas elements) and ensure no file is skipped.
            From the same reason, each execution writes to it's own subdirectory in <span class="code">generated-sources</span>
            folder. Sources for each service go to a separate package. A single execution entry looks like this: <br /><br />

            <!--<span class="code">
            &lt;execution&gt;<br />
            &nbsp;&nbsp;&lt;id&gt;travel-itinerary-schemas&lt;/id&gt;<br />
            &nbsp;&nbsp;&lt;goals&gt;&lt;goal&gt;generate&lt;/goal&gt;&lt;/goals&gt;<br />
            &nbsp;&nbsp;&lt;configuration&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;forceRegenerate&gt;true&lt;/forceRegenerate&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;bindingDirectory&gt;${project.basedir}/custom-bindings&lt;/bindingDirectory&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;bindingIncludes&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;include&gt;**/travel-itinerary-custom-binding.jxb&lt;/include&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;/bindingIncludes&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;schemaDirectory&gt;${project.parent.basedir}/target/&lt;/schemaDirectory&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;generateDirectory&gt;${project.build.directory}/generated-sources/xjc-3&lt;/generateDirectory&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;generatePackage&gt;com.sabre.sws.tools.wsdl.springws.travelitinerary&lt;/generatePackage&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;schemaIncludes&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;include&gt;**/wsdls/TravelItineraryReadLLSRQ/*RQRS.xsd&lt;/include&gt;<br />
            &nbsp;&nbsp;&nbsp;&nbsp;&lt;/schemaIncludes&gt;<br />
            &nbsp;&nbsp;&lt;/configuration&gt;<br />
            &lt;/execution&gt;<br />
            </span>-->

            <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table style="color: black;"><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #000080; font-weight: bold">&lt;execution&gt;</span>
  <span style="color: #000080; font-weight: bold">&lt;id&gt;</span>travel-itinerary-schemas<span style="color: #000080; font-weight: bold">&lt;/id&gt;</span>
  <span style="color: #000080; font-weight: bold">&lt;goals&gt;&lt;goal&gt;</span>generate<span style="color: #000080; font-weight: bold">&lt;/goal&gt;&lt;/goals&gt;</span>
  <span style="color: #000080; font-weight: bold">&lt;configuration&gt;</span>
    <span style="color: #000080; font-weight: bold">&lt;schemaLanguage&gt;</span>XMLSCHEMA<span style="color: #000080; font-weight: bold">&lt;/schemaLanguage&gt;</span>
    <span style="color: #000080; font-weight: bold">&lt;forceRegenerate&gt;</span>true<span style="color: #000080; font-weight: bold">&lt;/forceRegenerate&gt;</span>
    <span style="color: #000080; font-weight: bold">&lt;bindingDirectory&gt;</span>${project.basedir}/custom-bindings<span style="color: #000080; font-weight: bold">&lt;/bindingDirectory&gt;</span>
    <span style="color: #000080; font-weight: bold">&lt;bindingIncludes&gt;</span>
      <span style="color: #000080; font-weight: bold">&lt;include&gt;</span>**/service-name-custom-binding.jxb<span style="color: #000080; font-weight: bold">&lt;/include&gt;</span>
    <span style="color: #000080; font-weight: bold">&lt;/bindingIncludes&gt;</span>
    <span style="color: #000080; font-weight: bold">&lt;schemaDirectory&gt;</span>${project.parent.basedir}/target/<span style="color: #000080; font-weight: bold">&lt;/schemaDirectory&gt;</span>
    <span style="color: #000080; font-weight: bold">&lt;generateDirectory&gt;</span>${project.build.directory}/generated-sources/xjc-N<span style="color: #000080; font-weight: bold">&lt;/generateDirectory&gt;</span>
    <span style="color: #000080; font-weight: bold">&lt;generatePackage&gt;</span>com.sabre.sws.tools.wsdl.springws.packagename<span style="color: #000080; font-weight: bold">&lt;/generatePackage&gt;</span>
    <span style="color: #000080; font-weight: bold">&lt;schemaIncludes&gt;</span>
      <span style="color: #000080; font-weight: bold">&lt;include&gt;</span>**/wsdls/ServiceNameRQ/*RQRS.xsd<span style="color: #000080; font-weight: bold">&lt;/include&gt;</span>
    <span style="color: #000080; font-weight: bold">&lt;/schemaIncludes&gt;</span>
  <span style="color: #000080; font-weight: bold">&lt;/configuration&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/execution&gt;</span>
</pre></td></tr></table></div> <br /><br />

        The equivalent command line input is: <br /><br />

        <span class="code">xjc {project_root_directory}/target/wsdls/ServiceNameRQ/ServiceNameRQRS.xsd -d {project_root_directory}/toolkit-spring-ws/target/generated-sources/xjc-3 -p com.sabre.sws.tools.wsdl.springws.packagename -b {project_root_directory}/toolkit-spring-ws/custom-bindings/service-name-custom-binding.jxb</span>

        </p>

        <a name="springws-client-anchor"></a>
        <span class="bold"><span class="code">SwsClient</span> class</span>
        <p>
            This class uses the standard template for client classes, <a href="<!--TODO-->"> as described earlier</a>. <br /><br />

            To execute it from command line, run (from the project root directory, after building the whole project
            with <span class="code">mvn clean install</span>): <br /><br />

            <span class="code">mvn exec:java -pl toolkit-spring-ws -Dexec.mainClass=com.sabre.sws.tools.wsdl.springws.client.SwsClient</span><br /><br />

        </p>

        <a name="springws-wrappers-anchor"></a>
        <span class="bold">Wrapper classes</span>
        <p>
            Wrapper classes extend <span class="code">org.springframework.ws.client.core.support.WebServiceGatewaySupport</span>
            convenience class, that is used to easily make web services call using Spring Web Services.
            They use their superclasses's methods to set interceptors and make web services calls. The method that
            is directly responsible for calling a web service takes only request's body and marshals it into a SOAP message.
            Any additional headers must be inserted into SOAP header separately. This project uses a callback
            (<span class="code">HeaderComposingCallback implements org.springframework.ws.client.core.WebServiceMessageCallback</span>)
            that takes care of header management after the message is created.
        </p>

        <a name="springws-handlers-interceptors-anchor"></a>
        <span class="bold">Interceptors and callbacks</span>
        <p>
            As mentioned before, one part of message manipulation mechanism in Spring WS module are callbacks.
            Callbacks get access to outgoing message only, after they are created, but before they are sent.
            So it is a good place to insert SOAP headers into request message. To see the working implementation, see
            <span class="code">com.sabre.sws.tools.wsdl.springws.callbacks.HeaderComposingCallback</span> class. <br /><br/>

            Callbacks are limited to working only with outgoing message. If there's need to get access to incoming message's
            SOAP envelope, or the exchange context, one should use the interceptor. Interceptors implement
            <span class="code">org.springframework.ws.client.support.interceptor.ClientInterceptor</span> interface,
            which among others, has two useful methods: <span class="code">boolean handleRequest(MessageContext context)</span>
            and <span class="code">boolean handleResponse(MessageContext context)</span>. One can use these methods to
            handle messages, modificate them and read additional parameters from message context. <br /><br />

            There are four types of interceptors in <span class="code">toolkit-spring-ws</span> module:
        </p>

        <ul>
            <li><span class="code">LoggingInterceptor</span> - logs raw SOAP messages to output (depending on Log4j configuration)</li>
            <li><span class="code">FaultInterceptor</span> - logs faults, if message contains any</li>
            <li><span class="code">SessionCreateInterceptor</span> - intercepts SessionCreateRS response, validates it and notifies <span class="code">SessionManager</span> about newly open session and it's token </li>
            <li><span class="code">SessionCloseInterceptor</span> - intercepts SessionCloseRS response, validates it and closes session in <span class="code">SessionManager</span> </li>
        </ul>

    </div>

    <!-- T O O L K I T    W S I M P O R T  -->

    <a name="toolkit-wsimport-anchor"></a>
    <span class="subheader" style="font-family: 'Courier New'">toolkit-wsimport</span><br /><br />
    <div class="intend-level-1">

        <a name="wsimport-pom-anchor"></a>
        <span class="bold">POM file and build lifecycle</span>
        <p>
            The <span class="code">wsimport</span> tool is executed through the <span class="code">jaxws-maven-plugin</span>,
            which is a part of a <a href="https://jax-ws.java.net/">JAX-WS reference implementation</a> in Glassfish project.
            It allows generating JAX-WS artifacts (e.g. services, SEIs, JAXB data types) from WSDL files.
            Plugin section contains one <span class="code">&lt;execution&gt;</span> element for all WSDL files,
            that do not require custom binding (session services and OTA_AirAvailLLSRQ) and separate elements for each
            WSDL file that use custom JAXB binding file. Single execution element has the following structure: <br /><br/>

            <div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table style="color:black;"><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #000080; font-weight: bold">&lt;execution&gt;</span>
    <span style="color: #000080; font-weight: bold">&lt;id&gt;</span>service-name-schemas<span style="color: #000080; font-weight: bold">&lt;/id&gt;</span>
    <span style="color: #000080; font-weight: bold">&lt;goals&gt;</span>
        <span style="color: #000080; font-weight: bold">&lt;goal&gt;</span>wsimport<span style="color: #000080; font-weight: bold">&lt;/goal&gt;</span>
    <span style="color: #000080; font-weight: bold">&lt;/goals&gt;</span>
    <span style="color: #000080; font-weight: bold">&lt;configuration&gt;</span>
        <span style="color: #000080; font-weight: bold">&lt;bindingFiles&gt;</span>
            <span style="color: #000080; font-weight: bold">&lt;bindingFile&gt;</span>service-name-custom-binding.jxb<span style="color: #000080; font-weight: bold">&lt;/bindingFile&gt;</span>
        <span style="color: #000080; font-weight: bold">&lt;/bindingFiles&gt;</span>
        <span style="color: #000080; font-weight: bold">&lt;wsdlFiles&gt;</span>
            <span style="color: #000080; font-weight: bold">&lt;wsdlFile&gt;</span>ServiceNameRQ/ServiceName{service_version}RQ.wsdl<span style="color: #000080; font-weight: bold">&lt;/wsdlFile&gt;</span>
        <span style="color: #000080; font-weight: bold">&lt;/wsdlFiles&gt;</span>
    <span style="color: #000080; font-weight: bold">&lt;/configuration&gt;</span>
<span style="color: #000080; font-weight: bold">&lt;/execution&gt;</span>
</pre></td></tr></table></div> <br /><br />

            In executions that do not use custom binding, the <span class="code">&lt;bindingFiles&gt;</span>
            element is simply ommited. <br /><br />

        The other elements in this module's POM are ones <a href="#lifecycle-anchor">described earlier</a> .

        </p>

        <a name="wsimport-client-anchor"></a>
        <span class="bold"><span class="code">SwsClient</span> class</span>
        <p>
            This class uses the standard template for client classes, <a href="<!--TODO-->"> as described earlier</a>. <br /><br />

            To execute it from command line, run (from the project root directory, after building the whole project
            with <span class="code">mvn clean install</span>): <br /><br />

            <span class="code">mvn exec:java -pl toolkit-wsimport -Dexec.mainClass=com.sabre.sws.tools.wsdl.wsimport.client.SwsClient</span><br /><br />

        </p>

        <a name="wsimport-wrappers-anchor"></a>
        <span class="bold">Wrapper classes</span>
        <p>
            Wrapper classes are similar in internal design to those in <span class="code">toolkit-cxf-jaxb</span> module.
            They do not extend any class. They create JAX-WS artifacts, configure them (by setting handlers
            and endpoint Url) and use to make web service calls. The implementation is hidden in private methods,
            and the only way of accesing a web service is the <span class="code">executeSampleRequest()</span> method.
        </p>

        <a name="wsimport-handlers-interceptors-anchor"></a>
        <span class="bold">Handlers</span>
        <p>
            Handlers in <span class="code">wsimport</span> must implement <span class="code">javax.xml.ws.handler.soap.SOAPHandler</span>.
            It's most important method is <span class="code">boolean handleMessage(MessageContext context)</span>, which
            receives message context and can process it or any information contained within it, including the messages
            going in and out. There are 3 types of handlers in <span class="code">toolkit-wsimport</span> module:
        </p>

        <ul>
            <li><span class="code">LoggingHandler</span> - logs raw SOAP messages to output (depending on Log4j configuration) </li>
            <li><span class="code">SessionCreateIncomingHandler</span> - intercepts SessionCreateRS response, validates it and notifies <span class="code">SessionManager</span> about newly open session and it's token</li>
            <li><span class="code">SessionCloseIncomingHandler</span> - intercepts SessionCloseRS response, validates it and closes session in <span class="code">SessionManager</span></li>
        </ul>

    </div>


</body>
</html>